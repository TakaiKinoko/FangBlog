{
  "expireTime": 9007200830477575000,
  "key": "transformer-remark-markdown-ast-94b69a0eeeb4f0b1634023206f3167a5-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-reading-time-",
  "val": {
    "type": "root",
    "children": [
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "This is the third post in a series about what I learnt in my GPU class at NYU this past fall. Here I dive a bit deeper than the previous post into thread divergence.",
            "position": {
              "start": { "line": 2, "column": 1, "offset": 1 },
              "end": { "line": 2, "column": 166, "offset": 166 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 2, "column": 1, "offset": 1 },
          "end": { "line": 2, "column": 166, "offset": 166 },
          "indent": []
        }
      },
      {
        "type": "heading",
        "depth": 2,
        "children": [
          {
            "type": "text",
            "value": "Using Control Construct with Thread Divergence",
            "position": {
              "start": { "line": 4, "column": 4, "offset": 171 },
              "end": { "line": 4, "column": 50, "offset": 217 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 4, "column": 1, "offset": 168 },
          "end": { "line": 4, "column": 50, "offset": 217 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "A prevalent reason for using a control construct with thread divergence is ",
            "position": {
              "start": { "line": 5, "column": 1, "offset": 218 },
              "end": { "line": 5, "column": 76, "offset": 293 },
              "indent": []
            }
          },
          {
            "type": "strong",
            "children": [
              {
                "type": "text",
                "value": "handling boundary conditions",
                "position": {
                  "start": { "line": 5, "column": 78, "offset": 295 },
                  "end": { "line": 5, "column": 106, "offset": 323 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 5, "column": 76, "offset": 293 },
              "end": { "line": 5, "column": 108, "offset": 325 },
              "indent": []
            }
          },
          {
            "type": "text",
            "value": " when mapping threads to data. ",
            "position": {
              "start": { "line": 5, "column": 108, "offset": 325 },
              "end": { "line": 5, "column": 139, "offset": 356 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 5, "column": 1, "offset": 218 },
          "end": { "line": 5, "column": 139, "offset": 356 },
          "indent": []
        }
      },
      {
        "type": "list",
        "ordered": false,
        "start": null,
        "loose": false,
        "children": [
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "This is usually because the ",
                    "position": {
                      "start": { "line": 6, "column": 3, "offset": 359 },
                      "end": { "line": 6, "column": 31, "offset": 387 },
                      "indent": []
                    }
                  },
                  {
                    "type": "emphasis",
                    "children": [
                      {
                        "type": "text",
                        "value": "total number of threads",
                        "position": {
                          "start": { "line": 6, "column": 32, "offset": 388 },
                          "end": { "line": 6, "column": 55, "offset": 411 },
                          "indent": []
                        }
                      }
                    ],
                    "position": {
                      "start": { "line": 6, "column": 31, "offset": 387 },
                      "end": { "line": 6, "column": 56, "offset": 412 },
                      "indent": []
                    }
                  },
                  {
                    "type": "text",
                    "value": " needs to be a ",
                    "position": {
                      "start": { "line": 6, "column": 56, "offset": 412 },
                      "end": { "line": 6, "column": 71, "offset": 427 },
                      "indent": []
                    }
                  },
                  {
                    "type": "emphasis",
                    "children": [
                      {
                        "type": "text",
                        "value": "multiple of the block size",
                        "position": {
                          "start": { "line": 6, "column": 72, "offset": 428 },
                          "end": { "line": 6, "column": 98, "offset": 454 },
                          "indent": []
                        }
                      }
                    ],
                    "position": {
                      "start": { "line": 6, "column": 71, "offset": 427 },
                      "end": { "line": 6, "column": 99, "offset": 455 },
                      "indent": []
                    }
                  },
                  {
                    "type": "text",
                    "value": " whereas the size of the data can be an arbitrary number. ",
                    "position": {
                      "start": { "line": 6, "column": 99, "offset": 455 },
                      "end": { "line": 6, "column": 157, "offset": 513 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 6, "column": 3, "offset": 359 },
                  "end": { "line": 6, "column": 157, "offset": 513 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 6, "column": 1, "offset": 357 },
              "end": { "line": 6, "column": 157, "offset": 513 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 6, "column": 1, "offset": 357 },
          "end": { "line": 6, "column": 157, "offset": 513 },
          "indent": []
        }
      },
      {
        "type": "heading",
        "depth": 4,
        "children": [
          {
            "type": "text",
            "value": "example of a vector addition kernel",
            "position": {
              "start": { "line": 8, "column": 6, "offset": 520 },
              "end": { "line": 8, "column": 41, "offset": 555 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 8, "column": 1, "offset": 515 },
          "end": { "line": 8, "column": 41, "offset": 555 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "In the vector addition kernel below, there’s an if ",
            "position": {
              "start": { "line": 9, "column": 1, "offset": 556 },
              "end": { "line": 9, "column": 52, "offset": 607 },
              "indent": []
            }
          },
          {
            "type": "html",
            "value": "<code class=\"language-text\">(i&lt;n)</code>",
            "position": {
              "start": { "line": 9, "column": 52, "offset": 607 },
              "end": { "line": 9, "column": 63, "offset": 618 },
              "indent": []
            }
          },
          {
            "type": "text",
            "value": " statement in addVecKernel.\nThis is because not all vector lengths can be expressed as multiples of the block size.",
            "position": {
              "start": { "line": 9, "column": 63, "offset": 618 },
              "end": { "line": 10, "column": 88, "offset": 733 },
              "indent": [1]
            }
          }
        ],
        "position": {
          "start": { "line": 9, "column": 1, "offset": 556 },
          "end": { "line": 10, "column": 88, "offset": 733 },
          "indent": [1]
        }
      },
      {
        "type": "html",
        "lang": "c",
        "value": "<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token comment\">// Compute vector sum C = A+B</span>\n<span class=\"token comment\">// Each thread performs one element-wise addition</span>\n__global__ <span class=\"token function\">vecAddKernel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> blockDim<span class=\"token punctuation\">.</span>x <span class=\"token operator\">*</span> blockIdx<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> threadIdx<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span>\n     <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">)</span> C<span class=\"token punctuation\">[</span>I<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> A<span class=\"token punctuation\">[</span>I<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> B<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>",
        "position": {
          "start": { "line": 12, "column": 1, "offset": 735 },
          "end": { "line": 19, "column": 4, "offset": 943 },
          "indent": [1, 1, 1, 1, 1, 1, 1]
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "For example, assume that:",
            "position": {
              "start": { "line": 20, "column": 1, "offset": 944 },
              "end": { "line": 20, "column": 26, "offset": 969 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 20, "column": 1, "offset": 944 },
          "end": { "line": 20, "column": 26, "offset": 969 },
          "indent": []
        }
      },
      {
        "type": "list",
        "ordered": false,
        "start": null,
        "loose": false,
        "children": [
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "vector length is 1003",
                    "position": {
                      "start": { "line": 21, "column": 3, "offset": 972 },
                      "end": { "line": 21, "column": 24, "offset": 993 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 21, "column": 3, "offset": 972 },
                  "end": { "line": 21, "column": 24, "offset": 993 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 21, "column": 1, "offset": 970 },
              "end": { "line": 21, "column": 24, "offset": 993 },
              "indent": []
            }
          },
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "block size is 64\n  ",
                    "position": {
                      "start": { "line": 22, "column": 3, "offset": 996 },
                      "end": { "line": 23, "column": 7, "offset": 1019 },
                      "indent": [5]
                    }
                  }
                ],
                "position": {
                  "start": { "line": 22, "column": 3, "offset": 996 },
                  "end": { "line": 23, "column": 7, "offset": 1019 },
                  "indent": [5]
                }
              }
            ],
            "position": {
              "start": { "line": 22, "column": 1, "offset": 994 },
              "end": { "line": 23, "column": 7, "offset": 1019 },
              "indent": [1]
            }
          }
        ],
        "position": {
          "start": { "line": 21, "column": 1, "offset": 970 },
          "end": { "line": 23, "column": 7, "offset": 1019 },
          "indent": [1, 1]
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "To process all the 1003 vector elements:",
            "position": {
              "start": { "line": 24, "column": 1, "offset": 1020 },
              "end": { "line": 24, "column": 41, "offset": 1060 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 24, "column": 1, "offset": 1020 },
          "end": { "line": 24, "column": 41, "offset": 1060 },
          "indent": []
        }
      },
      {
        "type": "list",
        "ordered": false,
        "start": null,
        "loose": false,
        "children": [
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "16 thread blocks are launched",
                    "position": {
                      "start": { "line": 25, "column": 3, "offset": 1063 },
                      "end": { "line": 25, "column": 32, "offset": 1092 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 25, "column": 3, "offset": 1063 },
                  "end": { "line": 25, "column": 32, "offset": 1092 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 25, "column": 1, "offset": 1061 },
              "end": { "line": 25, "column": 32, "offset": 1092 },
              "indent": []
            }
          },
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "the total number of threads in these blocks would be 1024 threads ",
                    "position": {
                      "start": { "line": 26, "column": 3, "offset": 1095 },
                      "end": { "line": 26, "column": 69, "offset": 1161 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 26, "column": 3, "offset": 1095 },
                  "end": { "line": 26, "column": 69, "offset": 1161 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 26, "column": 1, "offset": 1093 },
              "end": { "line": 26, "column": 69, "offset": 1161 },
              "indent": []
            }
          },
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "the last 21 threads in thread block 15 need to be disabled",
                    "position": {
                      "start": { "line": 27, "column": 3, "offset": 1164 },
                      "end": { "line": 27, "column": 61, "offset": 1222 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 27, "column": 3, "offset": 1164 },
                  "end": { "line": 27, "column": 61, "offset": 1222 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 27, "column": 1, "offset": 1162 },
              "end": { "line": 27, "column": 61, "offset": 1222 },
              "indent": []
            }
          },
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "these 16 blocks are partitioned into 32 warps, ",
                    "position": {
                      "start": { "line": 28, "column": 3, "offset": 1225 },
                      "end": { "line": 28, "column": 50, "offset": 1272 },
                      "indent": []
                    }
                  },
                  {
                    "type": "strong",
                    "children": [
                      {
                        "type": "text",
                        "value": "only the last warp will have control divergence",
                        "position": {
                          "start": { "line": 28, "column": 52, "offset": 1274 },
                          "end": { "line": 28, "column": 99, "offset": 1321 },
                          "indent": []
                        }
                      }
                    ],
                    "position": {
                      "start": { "line": 28, "column": 50, "offset": 1272 },
                      "end": { "line": 28, "column": 101, "offset": 1323 },
                      "indent": []
                    }
                  },
                  {
                    "type": "text",
                    "value": ".",
                    "position": {
                      "start": { "line": 28, "column": 101, "offset": 1323 },
                      "end": { "line": 28, "column": 102, "offset": 1324 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 28, "column": 3, "offset": 1225 },
                  "end": { "line": 28, "column": 102, "offset": 1324 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 28, "column": 1, "offset": 1223 },
              "end": { "line": 28, "column": 102, "offset": 1324 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 25, "column": 1, "offset": 1061 },
          "end": { "line": 28, "column": 102, "offset": 1324 },
          "indent": [1, 1, 1]
        }
      },
      {
        "type": "heading",
        "depth": 2,
        "children": [
          {
            "type": "text",
            "value": "Measure Performance Impact",
            "position": {
              "start": { "line": 30, "column": 4, "offset": 1329 },
              "end": { "line": 30, "column": 30, "offset": 1355 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 30, "column": 1, "offset": 1326 },
          "end": { "line": 30, "column": 30, "offset": 1355 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "The performance impact of control divergence decreases with the ",
            "position": {
              "start": { "line": 32, "column": 1, "offset": 1357 },
              "end": { "line": 32, "column": 65, "offset": 1421 },
              "indent": []
            }
          },
          {
            "type": "strong",
            "children": [
              {
                "type": "text",
                "value": "size",
                "position": {
                  "start": { "line": 32, "column": 67, "offset": 1423 },
                  "end": { "line": 32, "column": 71, "offset": 1427 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 32, "column": 65, "offset": 1421 },
              "end": { "line": 32, "column": 73, "offset": 1429 },
              "indent": []
            }
          },
          {
            "type": "text",
            "value": " of the vectors being processed. ",
            "position": {
              "start": { "line": 32, "column": 73, "offset": 1429 },
              "end": { "line": 32, "column": 106, "offset": 1462 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 32, "column": 1, "offset": 1357 },
          "end": { "line": 32, "column": 106, "offset": 1462 },
          "indent": []
        }
      },
      {
        "type": "list",
        "ordered": false,
        "start": null,
        "loose": true,
        "children": [
          {
            "type": "listItem",
            "loose": true,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "For a vector length of 100, one of the four warps will have control divergence, which can have significant impact on performance. ",
                    "position": {
                      "start": { "line": 34, "column": 3, "offset": 1466 },
                      "end": { "line": 34, "column": 133, "offset": 1596 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 34, "column": 3, "offset": 1466 },
                  "end": { "line": 34, "column": 133, "offset": 1596 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 34, "column": 1, "offset": 1464 },
              "end": { "line": 35, "column": 1, "offset": 1597 },
              "indent": [1]
            }
          },
          {
            "type": "listItem",
            "loose": true,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "For a vector size of 1000, only one out of the 32 warps will have control divergence. That is, control divergence will affect only about 3% of the execution time. Even if it doubles the execution time of the warp, the net impact to the total execution time will be about 3%. ",
                    "position": {
                      "start": { "line": 36, "column": 3, "offset": 1600 },
                      "end": { "line": 36, "column": 278, "offset": 1875 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 36, "column": 3, "offset": 1600 },
                  "end": { "line": 36, "column": 278, "offset": 1875 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 36, "column": 1, "offset": 1598 },
              "end": { "line": 37, "column": 1, "offset": 1876 },
              "indent": [1]
            }
          },
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "Obviously, if the vector length is 10,000 or more, only one of the 313 warps will have control divergence. The impact of control divergence will be much less than 1%!",
                    "position": {
                      "start": { "line": 38, "column": 3, "offset": 1879 },
                      "end": { "line": 38, "column": 169, "offset": 2045 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 38, "column": 3, "offset": 1879 },
                  "end": { "line": 38, "column": 169, "offset": 2045 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 38, "column": 1, "offset": 1877 },
              "end": { "line": 38, "column": 169, "offset": 2045 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 34, "column": 1, "offset": 1464 },
          "end": { "line": 38, "column": 169, "offset": 2045 },
          "indent": [1, 1, 1, 1]
        }
      },
      {
        "type": "heading",
        "depth": 4,
        "children": [
          {
            "type": "text",
            "value": "2D blocks example",
            "position": {
              "start": { "line": 40, "column": 6, "offset": 2052 },
              "end": { "line": 40, "column": 23, "offset": 2069 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 40, "column": 1, "offset": 2047 },
          "end": { "line": 40, "column": 23, "offset": 2069 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "For two-dimensional data, if-statements are also used to handle the boundary conditions for threads that operate at the edge of the data. ",
            "position": {
              "start": { "line": 41, "column": 1, "offset": 2070 },
              "end": { "line": 41, "column": 139, "offset": 2208 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 41, "column": 1, "offset": 2070 },
          "end": { "line": 41, "column": 139, "offset": 2208 },
          "indent": []
        }
      },
      {
        "type": "heading",
        "depth": 5,
        "children": [
          {
            "type": "text",
            "value": "settings",
            "position": {
              "start": { "line": 43, "column": 7, "offset": 2216 },
              "end": { "line": 43, "column": 15, "offset": 2224 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 43, "column": 1, "offset": 2210 },
          "end": { "line": 43, "column": 15, "offset": 2224 },
          "indent": []
        }
      },
      {
        "type": "list",
        "ordered": false,
        "start": null,
        "loose": false,
        "children": [
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "given a block size of 16 x 16",
                    "position": {
                      "start": { "line": 45, "column": 3, "offset": 2228 },
                      "end": { "line": 45, "column": 32, "offset": 2257 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 45, "column": 3, "offset": 2228 },
                  "end": { "line": 45, "column": 32, "offset": 2257 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 45, "column": 1, "offset": 2226 },
              "end": { "line": 45, "column": 32, "offset": 2257 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 45, "column": 1, "offset": 2226 },
          "end": { "line": 45, "column": 32, "offset": 2257 },
          "indent": []
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "html",
            "title": null,
            "url": "./grid.jpg",
            "alt": "grid",
            "position": {
              "start": { "line": 47, "column": 1, "offset": 2259 },
              "end": { "line": 47, "column": 20, "offset": 2278 },
              "indent": []
            },
            "value": "<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6780a2f7c16d844af42ab0b464810e2c/7fc32/grid.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.69999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAC/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABYZwjVR//xAAYEAEAAwEAAAAAAAAAAAAAAAABAAMQBP/aAAgBAQABBQK5XCdO/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQEABj8CNMpf/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAERMRAhgf/aAAgBAQABPyGXYlC3ZAlo/9oADAMBAAIAAwAAABBQz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB4QAAMAAQQDAAAAAAAAAAAAAAABEYEhMUFRcbHw/9oACAEBAAE/EEtsqko9djnPR8QS+P2RNyKQ/9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"grid\"\n        title=\"\"\n        src=\"/static/6780a2f7c16d844af42ab0b464810e2c/1697e/grid.jpg\"\n        srcset=\"/static/6780a2f7c16d844af42ab0b464810e2c/a2cfd/grid.jpg 148w,\n/static/6780a2f7c16d844af42ab0b464810e2c/3348f/grid.jpg 295w,\n/static/6780a2f7c16d844af42ab0b464810e2c/1697e/grid.jpg 590w,\n/static/6780a2f7c16d844af42ab0b464810e2c/6a00a/grid.jpg 885w,\n/static/6780a2f7c16d844af42ab0b464810e2c/7fc32/grid.jpg 1000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a>"
          }
        ],
        "position": {
          "start": { "line": 47, "column": 1, "offset": 2259 },
          "end": { "line": 47, "column": 20, "offset": 2278 },
          "indent": []
        }
      },
      {
        "type": "list",
        "ordered": false,
        "start": null,
        "loose": false,
        "children": [
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "data to be processed is of the size 76×62",
                    "position": {
                      "start": { "line": 49, "column": 3, "offset": 2282 },
                      "end": { "line": 49, "column": 44, "offset": 2323 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 49, "column": 3, "offset": 2282 },
                  "end": { "line": 49, "column": 44, "offset": 2323 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 49, "column": 1, "offset": 2280 },
              "end": { "line": 49, "column": 44, "offset": 2323 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 49, "column": 1, "offset": 2280 },
          "end": { "line": 49, "column": 44, "offset": 2323 },
          "indent": []
        }
      },
      {
        "type": "heading",
        "depth": 5,
        "children": [
          {
            "type": "text",
            "value": "map data to blocks then warps",
            "position": {
              "start": { "line": 51, "column": 7, "offset": 2331 },
              "end": { "line": 51, "column": 36, "offset": 2360 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 51, "column": 1, "offset": 2325 },
          "end": { "line": 51, "column": 36, "offset": 2360 },
          "indent": []
        }
      },
      {
        "type": "list",
        "ordered": false,
        "start": null,
        "loose": true,
        "children": [
          {
            "type": "listItem",
            "loose": true,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "html",
                    "value": "<code class=\"language-text\">20 = 5*4</code>",
                    "position": {
                      "start": { "line": 53, "column": 3, "offset": 2364 },
                      "end": { "line": 53, "column": 17, "offset": 2378 },
                      "indent": []
                    }
                  },
                  {
                    "type": "text",
                    "value": " ",
                    "position": {
                      "start": { "line": 53, "column": 17, "offset": 2378 },
                      "end": { "line": 53, "column": 18, "offset": 2379 },
                      "indent": []
                    }
                  },
                  {
                    "type": "strong",
                    "children": [
                      {
                        "type": "text",
                        "value": "blocks",
                        "position": {
                          "start": { "line": 53, "column": 20, "offset": 2381 },
                          "end": { "line": 53, "column": 26, "offset": 2387 },
                          "indent": []
                        }
                      }
                    ],
                    "position": {
                      "start": { "line": 53, "column": 18, "offset": 2379 },
                      "end": { "line": 53, "column": 28, "offset": 2389 },
                      "indent": []
                    }
                  },
                  {
                    "type": "text",
                    "value": " will be used",
                    "position": {
                      "start": { "line": 53, "column": 28, "offset": 2389 },
                      "end": { "line": 53, "column": 41, "offset": 2402 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 53, "column": 3, "offset": 2364 },
                  "end": { "line": 53, "column": 41, "offset": 2402 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 53, "column": 1, "offset": 2362 },
              "end": { "line": 54, "column": 1, "offset": 2403 },
              "indent": [1]
            }
          },
          {
            "type": "listItem",
            "loose": true,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "each block will be partitioned into 8 ",
                    "position": {
                      "start": { "line": 55, "column": 3, "offset": 2406 },
                      "end": { "line": 55, "column": 41, "offset": 2444 },
                      "indent": []
                    }
                  },
                  {
                    "type": "strong",
                    "children": [
                      {
                        "type": "text",
                        "value": "warps",
                        "position": {
                          "start": { "line": 55, "column": 43, "offset": 2446 },
                          "end": { "line": 55, "column": 48, "offset": 2451 },
                          "indent": []
                        }
                      }
                    ],
                    "position": {
                      "start": { "line": 55, "column": 41, "offset": 2444 },
                      "end": { "line": 55, "column": 50, "offset": 2453 },
                      "indent": []
                    }
                  },
                  {
                    "type": "text",
                    "value": " (16 * 16 / 32), each one consists of two rows of a block",
                    "position": {
                      "start": { "line": 55, "column": 50, "offset": 2453 },
                      "end": { "line": 55, "column": 107, "offset": 2510 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 55, "column": 3, "offset": 2406 },
                  "end": { "line": 55, "column": 107, "offset": 2510 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 55, "column": 1, "offset": 2404 },
              "end": { "line": 56, "column": 1, "offset": 2511 },
              "indent": [1]
            }
          },
          {
            "type": "listItem",
            "loose": false,
            "checked": null,
            "children": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "type": "text",
                    "value": "there are a total 160 warps (8 warps per block) involved",
                    "position": {
                      "start": { "line": 57, "column": 3, "offset": 2514 },
                      "end": { "line": 57, "column": 59, "offset": 2570 },
                      "indent": []
                    }
                  }
                ],
                "position": {
                  "start": { "line": 57, "column": 3, "offset": 2514 },
                  "end": { "line": 57, "column": 59, "offset": 2570 },
                  "indent": []
                }
              }
            ],
            "position": {
              "start": { "line": 57, "column": 1, "offset": 2512 },
              "end": { "line": 57, "column": 59, "offset": 2570 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 53, "column": 1, "offset": 2362 },
          "end": { "line": 57, "column": 59, "offset": 2570 },
          "indent": [1, 1, 1, 1]
        }
      },
      {
        "type": "paragraph",
        "children": [
          {
            "type": "text",
            "value": "To analyze the impact of control divergence, refer to Fig. 3.5. None of the warps in the 12 blocks in region 1 will have control divergence. There are 12*8 =96 warps in region 1. For region 2, all the 24 warps will have control divergence. For region 3, note that all the bottom warps are mapped to data that are completely outside the picture. As a result, none of them will pass the if-condition. The reader should verify that these warps would have had control divergence if the picture had an odd number of pixels in the vertical dimension. Since they all follow the same control flow path, none of these 32 warps will have control divergence! In region 4, the first seven warps will have control divergence but the last warp will not. All in all, 31 out of the 160 warps will have control divergence.",
            "position": {
              "start": { "line": 59, "column": 1, "offset": 2572 },
              "end": { "line": 59, "column": 806, "offset": 3377 },
              "indent": []
            }
          }
        ],
        "position": {
          "start": { "line": 59, "column": 1, "offset": 2572 },
          "end": { "line": 59, "column": 806, "offset": 3377 },
          "indent": []
        }
      }
    ],
    "position": {
      "start": { "line": 1, "column": 1, "offset": 0 },
      "end": { "line": 59, "column": 806, "offset": 3377 }
    }
  }
}
