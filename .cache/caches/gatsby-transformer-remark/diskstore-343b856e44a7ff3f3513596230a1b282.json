{"expireTime":9007200830663873000,"key":"transformer-remark-markdown-ast-8ded1f0c36f650afa9930ca89ad896df-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-reading-time-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Motivated by a CUDA puzzle I tried to solve today, ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":52,"offset":52},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":52,"offset":52},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"A Puzzle","position":{"start":{"line":3,"column":4,"offset":56},"end":{"line":3,"column":12,"offset":64},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":53},"end":{"line":3,"column":12,"offset":64},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"problem","position":{"start":{"line":5,"column":5,"offset":70},"end":{"line":5,"column":12,"offset":77},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":66},"end":{"line":5,"column":12,"offset":77},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Adding two big arrays element-wise.","position":{"start":{"line":7,"column":1,"offset":79},"end":{"line":7,"column":36,"offset":114},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":79},"end":{"line":7,"column":36,"offset":114},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"settings","position":{"start":{"line":9,"column":5,"offset":120},"end":{"line":9,"column":13,"offset":128},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":116},"end":{"line":9,"column":13,"offset":128},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Suppose a GPU has 8 SMs","position":{"start":{"line":11,"column":3,"offset":132},"end":{"line":11,"column":26,"offset":155},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":132},"end":{"line":11,"column":26,"offset":155},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":130},"end":{"line":11,"column":26,"offset":155},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Each SM has 32 SPs","position":{"start":{"line":12,"column":3,"offset":158},"end":{"line":12,"column":21,"offset":176},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":158},"end":{"line":12,"column":21,"offset":176},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":156},"end":{"line":12,"column":21,"offset":176},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Warp size is 16, instead of 32","position":{"start":{"line":13,"column":3,"offset":179},"end":{"line":13,"column":33,"offset":209},"indent":[]}}],"position":{"start":{"line":13,"column":3,"offset":179},"end":{"line":13,"column":33,"offset":209},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":177},"end":{"line":13,"column":33,"offset":209},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"kernel adds one element from each array together","position":{"start":{"line":14,"column":3,"offset":212},"end":{"line":14,"column":51,"offset":260},"indent":[]}}],"position":{"start":{"line":14,"column":3,"offset":212},"end":{"line":14,"column":51,"offset":260},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":210},"end":{"line":14,"column":51,"offset":260},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":130},"end":{"line":14,"column":51,"offset":260},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"questions","position":{"start":{"line":16,"column":5,"offset":266},"end":{"line":16,"column":14,"offset":275},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":262},"end":{"line":16,"column":14,"offset":275},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Say if we were to compute everything sequentially, it takes time ","position":{"start":{"line":18,"column":1,"offset":277},"end":{"line":18,"column":66,"offset":342},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">t</code>","position":{"start":{"line":18,"column":66,"offset":342},"end":{"line":18,"column":73,"offset":349},"indent":[]}},{"type":"text","value":" to finish.","position":{"start":{"line":18,"column":73,"offset":349},"end":{"line":18,"column":84,"offset":360},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":277},"end":{"line":18,"column":84,"offset":360},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"scenario 1","position":{"start":{"line":20,"column":6,"offset":367},"end":{"line":20,"column":16,"offset":377},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":362},"end":{"line":20,"column":16,"offset":377},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Assume that 256 threads are enough to keep all SPs in the SM busy all the time. What is the amount of time itâ€™d take to perform the computation for ","position":{"start":{"line":22,"column":1,"offset":379},"end":{"line":22,"column":149,"offset":527},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"one block of 1024","position":{"start":{"line":22,"column":151,"offset":529},"end":{"line":22,"column":168,"offset":546},"indent":[]}}],"position":{"start":{"line":22,"column":149,"offset":527},"end":{"line":22,"column":170,"offset":548},"indent":[]}},{"type":"text","value":" threads? ","position":{"start":{"line":22,"column":170,"offset":548},"end":{"line":22,"column":180,"offset":558},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":379},"end":{"line":22,"column":180,"offset":558},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"scenario 2","position":{"start":{"line":24,"column":6,"offset":565},"end":{"line":24,"column":16,"offset":575},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":560},"end":{"line":24,"column":16,"offset":575},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What if we use ","position":{"start":{"line":26,"column":1,"offset":577},"end":{"line":26,"column":16,"offset":592},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"two blocks","position":{"start":{"line":26,"column":18,"offset":594},"end":{"line":26,"column":28,"offset":604},"indent":[]}}],"position":{"start":{"line":26,"column":16,"offset":592},"end":{"line":26,"column":30,"offset":606},"indent":[]}},{"type":"text","value":" of ","position":{"start":{"line":26,"column":30,"offset":606},"end":{"line":26,"column":34,"offset":610},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"512 threads","position":{"start":{"line":26,"column":36,"offset":612},"end":{"line":26,"column":47,"offset":623},"indent":[]}}],"position":{"start":{"line":26,"column":34,"offset":610},"end":{"line":26,"column":49,"offset":625},"indent":[]}},{"type":"text","value":" each?","position":{"start":{"line":26,"column":49,"offset":625},"end":{"line":26,"column":55,"offset":631},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":577},"end":{"line":26,"column":55,"offset":631},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"CUDA Resource Assignment","position":{"start":{"line":28,"column":4,"offset":636},"end":{"line":28,"column":28,"offset":660},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":633},"end":{"line":28,"column":28,"offset":660},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":30,"column":1,"offset":662}}}}