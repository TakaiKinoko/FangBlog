{"expireTime":9007200830662201000,"key":"transformer-remark-markdown-ast-23b6c14c5cac39c6d23fce253f80a874-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-reading-time-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"DRAM bursting alone is not sufficient to realize the level of DRAM access bandwidth required by modern processors. In this post, I’ll talk more about how to achieve better memory parallelism.","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":192,"offset":192},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":192,"offset":192},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Forms of Parallel Organization","position":{"start":{"line":4,"column":4,"offset":197},"end":{"line":4,"column":34,"offset":227},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":194},"end":{"line":4,"column":34,"offset":227},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"banks","position":{"start":{"line":6,"column":3,"offset":231},"end":{"line":6,"column":8,"offset":236},"indent":[]}}],"position":{"start":{"line":6,"column":3,"offset":231},"end":{"line":6,"column":8,"offset":236},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":229},"end":{"line":6,"column":8,"offset":236},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"channels","position":{"start":{"line":7,"column":3,"offset":239},"end":{"line":7,"column":11,"offset":247},"indent":[]}}],"position":{"start":{"line":7,"column":3,"offset":239},"end":{"line":7,"column":11,"offset":247},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":237},"end":{"line":7,"column":11,"offset":247},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":229},"end":{"line":7,"column":11,"offset":247},"indent":[1]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"./channel&banks.jpg","alt":"Channel and banks","position":{"start":{"line":9,"column":1,"offset":249},"end":{"line":9,"column":42,"offset":290},"indent":[]},"value":"<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/46b5fc4fac4cc0c278e6734391a3089d/7e3f6/channel%26banks.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.699999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHtbSYwwf/EABoQAAEFAQAAAAAAAAAAAAAAAAABAhARMUH/2gAIAQEAAQUCo6mDY//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAAAEg/9oACAEBAAY/Amv/xAAZEAACAwEAAAAAAAAAAAAAAAABEQAQMZH/2gAIAQEAAT8hZQjxHFMmv//aAAwDAQACAAMAAAAQ0A//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAeEAEAAgIBBQAAAAAAAAAAAAABADERIRBBUWGh0f/aAAgBAQABPxBUsu63esS9lB7qr5AETZnr5hU97j//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Channel and banks\"\n        title=\"Channel and banks\"\n        src=\"/static/46b5fc4fac4cc0c278e6734391a3089d/88218/channel%26banks.jpg\"\n        srcset=\"/static/46b5fc4fac4cc0c278e6734391a3089d/7237a/channel%26banks.jpg 148w,\n/static/46b5fc4fac4cc0c278e6734391a3089d/0cfdf/channel%26banks.jpg 295w,\n/static/46b5fc4fac4cc0c278e6734391a3089d/88218/channel%26banks.jpg 590w,\n/static/46b5fc4fac4cc0c278e6734391a3089d/77d57/channel%26banks.jpg 885w,\n/static/46b5fc4fac4cc0c278e6734391a3089d/7e3f6/channel%26banks.jpg 1000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Channel and banks</figcaption>\n  </figure>"}],"position":{"start":{"line":9,"column":1,"offset":249},"end":{"line":9,"column":42,"offset":290},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A processor contains one or more channels.","position":{"start":{"line":11,"column":3,"offset":294},"end":{"line":11,"column":45,"offset":336},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":294},"end":{"line":11,"column":45,"offset":336},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":292},"end":{"line":11,"column":45,"offset":336},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Each channel is a ","position":{"start":{"line":12,"column":3,"offset":339},"end":{"line":12,"column":21,"offset":357},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"memory controller","position":{"start":{"line":12,"column":23,"offset":359},"end":{"line":12,"column":40,"offset":376},"indent":[]}}],"position":{"start":{"line":12,"column":21,"offset":357},"end":{"line":12,"column":42,"offset":378},"indent":[]}},{"type":"text","value":" with a ","position":{"start":{"line":12,"column":42,"offset":378},"end":{"line":12,"column":50,"offset":386},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"bus","position":{"start":{"line":12,"column":52,"offset":388},"end":{"line":12,"column":55,"offset":391},"indent":[]}}],"position":{"start":{"line":12,"column":50,"offset":386},"end":{"line":12,"column":57,"offset":393},"indent":[]}},{"type":"text","value":" that connects a set of ","position":{"start":{"line":12,"column":57,"offset":393},"end":{"line":12,"column":81,"offset":417},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"DRAM banks","position":{"start":{"line":12,"column":83,"offset":419},"end":{"line":12,"column":93,"offset":429},"indent":[]}}],"position":{"start":{"line":12,"column":81,"offset":417},"end":{"line":12,"column":95,"offset":431},"indent":[]}},{"type":"text","value":" to the processor.","position":{"start":{"line":12,"column":95,"offset":431},"end":{"line":12,"column":113,"offset":449},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":339},"end":{"line":12,"column":113,"offset":449},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":337},"end":{"line":12,"column":113,"offset":449},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":292},"end":{"line":12,"column":113,"offset":449},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Bus","position":{"start":{"line":14,"column":5,"offset":455},"end":{"line":14,"column":8,"offset":458},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":451},"end":{"line":14,"column":8,"offset":458},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The data transfer bandwidth of a bus is defined by its ","position":{"start":{"line":16,"column":1,"offset":460},"end":{"line":16,"column":56,"offset":515},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"width","position":{"start":{"line":16,"column":57,"offset":516},"end":{"line":16,"column":62,"offset":521},"indent":[]}}],"position":{"start":{"line":16,"column":56,"offset":515},"end":{"line":16,"column":63,"offset":522},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":16,"column":63,"offset":522},"end":{"line":16,"column":68,"offset":527},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"clock frequency","position":{"start":{"line":16,"column":69,"offset":528},"end":{"line":16,"column":84,"offset":543},"indent":[]}}],"position":{"start":{"line":16,"column":68,"offset":527},"end":{"line":16,"column":85,"offset":544},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":16,"column":85,"offset":544},"end":{"line":16,"column":86,"offset":545},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":460},"end":{"line":16,"column":86,"offset":545},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Modern double data rate (DDR) busses perform two data transfers per clock cycle:","position":{"start":{"line":18,"column":1,"offset":547},"end":{"line":18,"column":81,"offset":627},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":547},"end":{"line":18,"column":81,"offset":627},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"one at the rising edge of each clock cycle","position":{"start":{"line":20,"column":3,"offset":631},"end":{"line":20,"column":45,"offset":673},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":631},"end":{"line":20,"column":45,"offset":673},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":629},"end":{"line":20,"column":45,"offset":673},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"one at the falling edge of each clock cycle","position":{"start":{"line":21,"column":3,"offset":676},"end":{"line":21,"column":46,"offset":719},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":676},"end":{"line":21,"column":46,"offset":719},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":674},"end":{"line":21,"column":46,"offset":719},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":629},"end":{"line":21,"column":46,"offset":719},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"is DDR enough?","position":{"start":{"line":23,"column":6,"offset":726},"end":{"line":23,"column":20,"offset":740},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":721},"end":{"line":23,"column":20,"offset":740},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For example, a 64-bit DDR bus with a clock frequency of 1 GHz has a bandwidth of ","position":{"start":{"line":25,"column":1,"offset":742},"end":{"line":25,"column":82,"offset":823},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">8B*2*1 GHz =16 GB/sec</code>","position":{"start":{"line":25,"column":82,"offset":823},"end":{"line":25,"column":105,"offset":846},"indent":[]}},{"type":"text","value":". This seems to be a large number but is often ","position":{"start":{"line":25,"column":105,"offset":846},"end":{"line":25,"column":152,"offset":893},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"too small","position":{"start":{"line":25,"column":154,"offset":895},"end":{"line":25,"column":163,"offset":904},"indent":[]}}],"position":{"start":{"line":25,"column":152,"offset":893},"end":{"line":25,"column":165,"offset":906},"indent":[]}},{"type":"text","value":" for modern CPUs and GPUs.","position":{"start":{"line":25,"column":165,"offset":906},"end":{"line":25,"column":191,"offset":932},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":742},"end":{"line":25,"column":191,"offset":932},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"A modern CPU might require a memory bandwidth of at least 32 GB/s, it’s 2 channels for this example.","position":{"start":{"line":27,"column":3,"offset":936},"end":{"line":27,"column":103,"offset":1036},"indent":[]}}],"position":{"start":{"line":27,"column":3,"offset":936},"end":{"line":27,"column":103,"offset":1036},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":934},"end":{"line":27,"column":103,"offset":1036},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"a modern GPU might require 128 GB/s. For this example, it’s 8 channels.","position":{"start":{"line":28,"column":3,"offset":1039},"end":{"line":28,"column":74,"offset":1110},"indent":[]}}],"position":{"start":{"line":28,"column":3,"offset":1039},"end":{"line":28,"column":74,"offset":1110},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1037},"end":{"line":28,"column":74,"offset":1110},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":934},"end":{"line":28,"column":74,"offset":1110},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Banks","position":{"start":{"line":30,"column":5,"offset":1116},"end":{"line":30,"column":10,"offset":1121},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1112},"end":{"line":30,"column":10,"offset":1121},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The number of banks connected to a channel is determined by the what’s required to ","position":{"start":{"line":32,"column":1,"offset":1123},"end":{"line":32,"column":84,"offset":1206},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"fully utilize the data transfer bandwidth of the bus","position":{"start":{"line":32,"column":86,"offset":1208},"end":{"line":32,"column":138,"offset":1260},"indent":[]}}],"position":{"start":{"line":32,"column":84,"offset":1206},"end":{"line":32,"column":140,"offset":1262},"indent":[]}},{"type":"text","value":". This is illustrated in the picture below. Each bank contains an array of DRAM cells, the sensing amplifiers for accessing these cells, and the interface for delivering bursts of data to the bus.","position":{"start":{"line":32,"column":140,"offset":1262},"end":{"line":32,"column":336,"offset":1458},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1123},"end":{"line":32,"column":336,"offset":1458},"indent":[]}},{"type":"paragraph","children":[{"type":"html","title":null,"url":"./banks.jpg","alt":"banks","position":{"start":{"line":34,"column":1,"offset":1460},"end":{"line":34,"column":22,"offset":1481},"indent":[]},"value":"<figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c18804ecc1f3c9991bb174711fc73701/e6d19/banks.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.766146993318486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdhLKBYP/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIRIQAQMf/aAAgBAQABBQJqyaCyD3X/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAQSAhgZH/2gAIAQEABj8CeD4XD//EABsQAAICAwEAAAAAAAAAAAAAAAERABAhMWFR/9oACAEBAAE/IT0THw4MYRHkKSz7g1DYr//aAAwDAQACAAMAAAAQw8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAeEAEAAgEEAwAAAAAAAAAAAAABADERECFhoXGBwf/aAAgBAQABPxDkgw7LuAEULVTyUMxEWFl9gOn3PsKn/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"banks\"\n        title=\"banks\"\n        src=\"/static/c18804ecc1f3c9991bb174711fc73701/88218/banks.jpg\"\n        srcset=\"/static/c18804ecc1f3c9991bb174711fc73701/7237a/banks.jpg 148w,\n/static/c18804ecc1f3c9991bb174711fc73701/0cfdf/banks.jpg 295w,\n/static/c18804ecc1f3c9991bb174711fc73701/88218/banks.jpg 590w,\n/static/c18804ecc1f3c9991bb174711fc73701/77d57/banks.jpg 885w,\n/static/c18804ecc1f3c9991bb174711fc73701/e6d19/banks.jpg 898w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">banks</figcaption>\n  </figure>"}],"position":{"start":{"line":34,"column":1,"offset":1460},"end":{"line":34,"column":22,"offset":1481},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"(More about interleaved data distribution later…)","position":{"start":{"line":36,"column":1,"offset":1483},"end":{"line":36,"column":52,"offset":1534},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1483},"end":{"line":36,"column":52,"offset":1534},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":37,"column":1,"offset":1535}}}}