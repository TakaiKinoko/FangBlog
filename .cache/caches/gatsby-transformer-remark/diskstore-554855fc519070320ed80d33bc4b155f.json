{"expireTime":9007200830663882000,"key":"transformer-remark-markdown-ast-3710da2273fed3f9f3146ad120ceeab2-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-reading-time-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Motivated by a CUDA puzzle I tried to solve today, I’d like to talk more ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":74,"offset":74},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":74,"offset":74},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"A Puzzle","position":{"start":{"line":4,"column":4,"offset":79},"end":{"line":4,"column":12,"offset":87},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":76},"end":{"line":4,"column":12,"offset":87},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"problem","position":{"start":{"line":6,"column":5,"offset":93},"end":{"line":6,"column":12,"offset":100},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":89},"end":{"line":6,"column":12,"offset":100},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Adding two big arrays element-wise.","position":{"start":{"line":8,"column":1,"offset":102},"end":{"line":8,"column":36,"offset":137},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":102},"end":{"line":8,"column":36,"offset":137},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"settings","position":{"start":{"line":10,"column":5,"offset":143},"end":{"line":10,"column":13,"offset":151},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":139},"end":{"line":10,"column":13,"offset":151},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Suppose a GPU has 8 SMs","position":{"start":{"line":12,"column":3,"offset":155},"end":{"line":12,"column":26,"offset":178},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":155},"end":{"line":12,"column":26,"offset":178},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":153},"end":{"line":12,"column":26,"offset":178},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Each SM has 32 SPs","position":{"start":{"line":13,"column":3,"offset":181},"end":{"line":13,"column":21,"offset":199},"indent":[]}}],"position":{"start":{"line":13,"column":3,"offset":181},"end":{"line":13,"column":21,"offset":199},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":179},"end":{"line":13,"column":21,"offset":199},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Warp size is 16, instead of 32","position":{"start":{"line":14,"column":3,"offset":202},"end":{"line":14,"column":33,"offset":232},"indent":[]}}],"position":{"start":{"line":14,"column":3,"offset":202},"end":{"line":14,"column":33,"offset":232},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":200},"end":{"line":14,"column":33,"offset":232},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"kernel adds one element from each array together","position":{"start":{"line":15,"column":3,"offset":235},"end":{"line":15,"column":51,"offset":283},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":235},"end":{"line":15,"column":51,"offset":283},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":233},"end":{"line":15,"column":51,"offset":283},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":153},"end":{"line":15,"column":51,"offset":283},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"questions","position":{"start":{"line":17,"column":5,"offset":289},"end":{"line":17,"column":14,"offset":298},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":285},"end":{"line":17,"column":14,"offset":298},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Say if we were to compute everything sequentially, it takes time ","position":{"start":{"line":19,"column":1,"offset":300},"end":{"line":19,"column":66,"offset":365},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">t</code>","position":{"start":{"line":19,"column":66,"offset":365},"end":{"line":19,"column":73,"offset":372},"indent":[]}},{"type":"text","value":" to finish.","position":{"start":{"line":19,"column":73,"offset":372},"end":{"line":19,"column":84,"offset":383},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":300},"end":{"line":19,"column":84,"offset":383},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"scenario 1","position":{"start":{"line":21,"column":6,"offset":390},"end":{"line":21,"column":16,"offset":400},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":385},"end":{"line":21,"column":16,"offset":400},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Assume that 256 threads are enough to keep all SPs in the SM busy all the time. What is the amount of time it’d take to perform the computation for ","position":{"start":{"line":23,"column":1,"offset":402},"end":{"line":23,"column":149,"offset":550},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"one block of 1024","position":{"start":{"line":23,"column":151,"offset":552},"end":{"line":23,"column":168,"offset":569},"indent":[]}}],"position":{"start":{"line":23,"column":149,"offset":550},"end":{"line":23,"column":170,"offset":571},"indent":[]}},{"type":"text","value":" threads? ","position":{"start":{"line":23,"column":170,"offset":571},"end":{"line":23,"column":180,"offset":581},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":402},"end":{"line":23,"column":180,"offset":581},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"scenario 2","position":{"start":{"line":25,"column":6,"offset":588},"end":{"line":25,"column":16,"offset":598},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":583},"end":{"line":25,"column":16,"offset":598},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"What if we use ","position":{"start":{"line":27,"column":1,"offset":600},"end":{"line":27,"column":16,"offset":615},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"two blocks","position":{"start":{"line":27,"column":18,"offset":617},"end":{"line":27,"column":28,"offset":627},"indent":[]}}],"position":{"start":{"line":27,"column":16,"offset":615},"end":{"line":27,"column":30,"offset":629},"indent":[]}},{"type":"text","value":" of ","position":{"start":{"line":27,"column":30,"offset":629},"end":{"line":27,"column":34,"offset":633},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"512 threads","position":{"start":{"line":27,"column":36,"offset":635},"end":{"line":27,"column":47,"offset":646},"indent":[]}}],"position":{"start":{"line":27,"column":34,"offset":633},"end":{"line":27,"column":49,"offset":648},"indent":[]}},{"type":"text","value":" each?","position":{"start":{"line":27,"column":49,"offset":648},"end":{"line":27,"column":55,"offset":654},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":600},"end":{"line":27,"column":55,"offset":654},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"CUDA Resource Assignment","position":{"start":{"line":29,"column":4,"offset":659},"end":{"line":29,"column":28,"offset":683},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":656},"end":{"line":29,"column":28,"offset":683},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":31,"column":1,"offset":685}}}}