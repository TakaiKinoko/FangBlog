{
  "expireTime": 9007200830477762000,
  "key": "transformer-remark-markdown-html-ast-4dd14f993b43101a6d323747e77c9006-gatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypantsgatsby-remark-reading-time-",
  "val": {
    "type": "root",
    "children": [
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "This is the third post in a series about what I learnt in my GPU class at NYU this past fall. Here I dive a bit deeper than the previous post into thread divergence.",
            "position": {
              "start": { "line": 2, "column": 1, "offset": 1 },
              "end": { "line": 2, "column": 166, "offset": 166 }
            }
          }
        ],
        "position": {
          "start": { "line": 2, "column": 1, "offset": 1 },
          "end": { "line": 2, "column": 166, "offset": 166 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "h2",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "Using Control Construct with Thread Divergence",
            "position": {
              "start": { "line": 4, "column": 4, "offset": 171 },
              "end": { "line": 4, "column": 50, "offset": 217 }
            }
          }
        ],
        "position": {
          "start": { "line": 4, "column": 1, "offset": 168 },
          "end": { "line": 4, "column": 50, "offset": 217 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "A prevalent reason for using a control construct with thread divergence is ",
            "position": {
              "start": { "line": 5, "column": 1, "offset": 218 },
              "end": { "line": 5, "column": 76, "offset": 293 }
            }
          },
          {
            "type": "element",
            "tagName": "strong",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "handling boundary conditions",
                "position": {
                  "start": { "line": 5, "column": 78, "offset": 295 },
                  "end": { "line": 5, "column": 106, "offset": 323 }
                }
              }
            ],
            "position": {
              "start": { "line": 5, "column": 76, "offset": 293 },
              "end": { "line": 5, "column": 108, "offset": 325 }
            }
          },
          {
            "type": "text",
            "value": " when mapping threads to data. ",
            "position": {
              "start": { "line": 5, "column": 108, "offset": 325 },
              "end": { "line": 5, "column": 139, "offset": 356 }
            }
          }
        ],
        "position": {
          "start": { "line": 5, "column": 1, "offset": 218 },
          "end": { "line": 5, "column": 139, "offset": 356 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "ul",
        "properties": {},
        "children": [
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "This is usually because the ",
                "position": {
                  "start": { "line": 6, "column": 3, "offset": 359 },
                  "end": { "line": 6, "column": 31, "offset": 387 }
                }
              },
              {
                "type": "element",
                "tagName": "em",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "total number of threads",
                    "position": {
                      "start": { "line": 6, "column": 32, "offset": 388 },
                      "end": { "line": 6, "column": 55, "offset": 411 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 6, "column": 31, "offset": 387 },
                  "end": { "line": 6, "column": 56, "offset": 412 }
                }
              },
              {
                "type": "text",
                "value": " needs to be a ",
                "position": {
                  "start": { "line": 6, "column": 56, "offset": 412 },
                  "end": { "line": 6, "column": 71, "offset": 427 }
                }
              },
              {
                "type": "element",
                "tagName": "em",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "multiple of the block size",
                    "position": {
                      "start": { "line": 6, "column": 72, "offset": 428 },
                      "end": { "line": 6, "column": 98, "offset": 454 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 6, "column": 71, "offset": 427 },
                  "end": { "line": 6, "column": 99, "offset": 455 }
                }
              },
              {
                "type": "text",
                "value": " whereas the size of the data can be an arbitrary number. ",
                "position": {
                  "start": { "line": 6, "column": 99, "offset": 455 },
                  "end": { "line": 6, "column": 157, "offset": 513 }
                }
              }
            ],
            "position": {
              "start": { "line": 6, "column": 1, "offset": 357 },
              "end": { "line": 6, "column": 157, "offset": 513 }
            }
          },
          { "type": "text", "value": "\n" }
        ],
        "position": {
          "start": { "line": 6, "column": 1, "offset": 357 },
          "end": { "line": 6, "column": 157, "offset": 513 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "h4",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "example of a vector addition kernel",
            "position": {
              "start": { "line": 8, "column": 6, "offset": 520 },
              "end": { "line": 8, "column": 41, "offset": 555 }
            }
          }
        ],
        "position": {
          "start": { "line": 8, "column": 1, "offset": 515 },
          "end": { "line": 8, "column": 41, "offset": 555 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "In the vector addition kernel below, there’s an if ",
            "position": {
              "start": { "line": 9, "column": 1, "offset": 556 },
              "end": { "line": 9, "column": 52, "offset": 607 }
            }
          },
          {
            "type": "raw",
            "value": "<code class=\"language-text\">(i&lt;n)</code>",
            "position": {
              "start": { "line": 9, "column": 52, "offset": 607 },
              "end": { "line": 9, "column": 63, "offset": 618 }
            }
          },
          {
            "type": "text",
            "value": " statement in addVecKernel.\nThis is because not all vector lengths can be expressed as multiples of the block size.",
            "position": {
              "start": { "line": 9, "column": 63, "offset": 618 },
              "end": { "line": 10, "column": 88, "offset": 733 }
            }
          }
        ],
        "position": {
          "start": { "line": 9, "column": 1, "offset": 556 },
          "end": { "line": 10, "column": 88, "offset": 733 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "raw",
        "value": "<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token comment\">// Compute vector sum C = A+B</span>\n<span class=\"token comment\">// Each thread performs one element-wise addition</span>\n__global__ <span class=\"token function\">vecAddKernel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">int</span> i <span class=\"token operator\">=</span> blockDim<span class=\"token punctuation\">.</span>x <span class=\"token operator\">*</span> blockIdx<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> threadIdx<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">;</span>\n     <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>i <span class=\"token operator\">&lt;</span> n<span class=\"token punctuation\">)</span> C<span class=\"token punctuation\">[</span>I<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> A<span class=\"token punctuation\">[</span>I<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> B<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>",
        "position": {
          "start": { "line": 12, "column": 1, "offset": 735 },
          "end": { "line": 19, "column": 4, "offset": 943 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "For example, assume that:",
            "position": {
              "start": { "line": 20, "column": 1, "offset": 944 },
              "end": { "line": 20, "column": 26, "offset": 969 }
            }
          }
        ],
        "position": {
          "start": { "line": 20, "column": 1, "offset": 944 },
          "end": { "line": 20, "column": 26, "offset": 969 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "ul",
        "properties": {},
        "children": [
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "vector length is 1003",
                "position": {
                  "start": { "line": 21, "column": 3, "offset": 972 },
                  "end": { "line": 21, "column": 24, "offset": 993 }
                }
              }
            ],
            "position": {
              "start": { "line": 21, "column": 1, "offset": 970 },
              "end": { "line": 21, "column": 24, "offset": 993 }
            }
          },
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "block size is 64\n",
                "position": {
                  "start": { "line": 22, "column": 3, "offset": 996 },
                  "end": { "line": 23, "column": 7, "offset": 1019 }
                }
              }
            ],
            "position": {
              "start": { "line": 22, "column": 1, "offset": 994 },
              "end": { "line": 23, "column": 7, "offset": 1019 }
            }
          },
          { "type": "text", "value": "\n" }
        ],
        "position": {
          "start": { "line": 21, "column": 1, "offset": 970 },
          "end": { "line": 23, "column": 7, "offset": 1019 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "To process all the 1003 vector elements:",
            "position": {
              "start": { "line": 24, "column": 1, "offset": 1020 },
              "end": { "line": 24, "column": 41, "offset": 1060 }
            }
          }
        ],
        "position": {
          "start": { "line": 24, "column": 1, "offset": 1020 },
          "end": { "line": 24, "column": 41, "offset": 1060 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "ul",
        "properties": {},
        "children": [
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "16 thread blocks are launched",
                "position": {
                  "start": { "line": 25, "column": 3, "offset": 1063 },
                  "end": { "line": 25, "column": 32, "offset": 1092 }
                }
              }
            ],
            "position": {
              "start": { "line": 25, "column": 1, "offset": 1061 },
              "end": { "line": 25, "column": 32, "offset": 1092 }
            }
          },
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "the total number of threads in these blocks would be 1024 threads ",
                "position": {
                  "start": { "line": 26, "column": 3, "offset": 1095 },
                  "end": { "line": 26, "column": 69, "offset": 1161 }
                }
              }
            ],
            "position": {
              "start": { "line": 26, "column": 1, "offset": 1093 },
              "end": { "line": 26, "column": 69, "offset": 1161 }
            }
          },
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "the last 21 threads in thread block 15 need to be disabled",
                "position": {
                  "start": { "line": 27, "column": 3, "offset": 1164 },
                  "end": { "line": 27, "column": 61, "offset": 1222 }
                }
              }
            ],
            "position": {
              "start": { "line": 27, "column": 1, "offset": 1162 },
              "end": { "line": 27, "column": 61, "offset": 1222 }
            }
          },
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "these 16 blocks are partitioned into 32 warps, ",
                "position": {
                  "start": { "line": 28, "column": 3, "offset": 1225 },
                  "end": { "line": 28, "column": 50, "offset": 1272 }
                }
              },
              {
                "type": "element",
                "tagName": "strong",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "only the last warp will have control divergence",
                    "position": {
                      "start": { "line": 28, "column": 52, "offset": 1274 },
                      "end": { "line": 28, "column": 99, "offset": 1321 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 28, "column": 50, "offset": 1272 },
                  "end": { "line": 28, "column": 101, "offset": 1323 }
                }
              },
              {
                "type": "text",
                "value": ".",
                "position": {
                  "start": { "line": 28, "column": 101, "offset": 1323 },
                  "end": { "line": 28, "column": 102, "offset": 1324 }
                }
              }
            ],
            "position": {
              "start": { "line": 28, "column": 1, "offset": 1223 },
              "end": { "line": 28, "column": 102, "offset": 1324 }
            }
          },
          { "type": "text", "value": "\n" }
        ],
        "position": {
          "start": { "line": 25, "column": 1, "offset": 1061 },
          "end": { "line": 28, "column": 102, "offset": 1324 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "h2",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "Measure Performance Impact",
            "position": {
              "start": { "line": 30, "column": 4, "offset": 1329 },
              "end": { "line": 30, "column": 30, "offset": 1355 }
            }
          }
        ],
        "position": {
          "start": { "line": 30, "column": 1, "offset": 1326 },
          "end": { "line": 30, "column": 30, "offset": 1355 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "The performance impact of control divergence decreases with the ",
            "position": {
              "start": { "line": 32, "column": 1, "offset": 1357 },
              "end": { "line": 32, "column": 65, "offset": 1421 }
            }
          },
          {
            "type": "element",
            "tagName": "strong",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "size",
                "position": {
                  "start": { "line": 32, "column": 67, "offset": 1423 },
                  "end": { "line": 32, "column": 71, "offset": 1427 }
                }
              }
            ],
            "position": {
              "start": { "line": 32, "column": 65, "offset": 1421 },
              "end": { "line": 32, "column": 73, "offset": 1429 }
            }
          },
          {
            "type": "text",
            "value": " of the vectors being processed. ",
            "position": {
              "start": { "line": 32, "column": 73, "offset": 1429 },
              "end": { "line": 32, "column": 106, "offset": 1462 }
            }
          }
        ],
        "position": {
          "start": { "line": 32, "column": 1, "offset": 1357 },
          "end": { "line": 32, "column": 106, "offset": 1462 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "ul",
        "properties": {},
        "children": [
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              { "type": "text", "value": "\n" },
              {
                "type": "element",
                "tagName": "p",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "For a vector length of 100, one of the four warps will have control divergence, which can have significant impact on performance. ",
                    "position": {
                      "start": { "line": 34, "column": 3, "offset": 1466 },
                      "end": { "line": 34, "column": 133, "offset": 1596 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 34, "column": 3, "offset": 1466 },
                  "end": { "line": 34, "column": 133, "offset": 1596 }
                }
              },
              { "type": "text", "value": "\n" }
            ],
            "position": {
              "start": { "line": 34, "column": 1, "offset": 1464 },
              "end": { "line": 35, "column": 1, "offset": 1597 }
            }
          },
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              { "type": "text", "value": "\n" },
              {
                "type": "element",
                "tagName": "p",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "For a vector size of 1000, only one out of the 32 warps will have control divergence. That is, control divergence will affect only about 3% of the execution time. Even if it doubles the execution time of the warp, the net impact to the total execution time will be about 3%. ",
                    "position": {
                      "start": { "line": 36, "column": 3, "offset": 1600 },
                      "end": { "line": 36, "column": 278, "offset": 1875 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 36, "column": 3, "offset": 1600 },
                  "end": { "line": 36, "column": 278, "offset": 1875 }
                }
              },
              { "type": "text", "value": "\n" }
            ],
            "position": {
              "start": { "line": 36, "column": 1, "offset": 1598 },
              "end": { "line": 37, "column": 1, "offset": 1876 }
            }
          },
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              { "type": "text", "value": "\n" },
              {
                "type": "element",
                "tagName": "p",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "Obviously, if the vector length is 10,000 or more, only one of the 313 warps will have control divergence. The impact of control divergence will be much less than 1%!",
                    "position": {
                      "start": { "line": 38, "column": 3, "offset": 1879 },
                      "end": { "line": 38, "column": 169, "offset": 2045 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 38, "column": 3, "offset": 1879 },
                  "end": { "line": 38, "column": 169, "offset": 2045 }
                }
              },
              { "type": "text", "value": "\n" }
            ],
            "position": {
              "start": { "line": 38, "column": 1, "offset": 1877 },
              "end": { "line": 38, "column": 169, "offset": 2045 }
            }
          },
          { "type": "text", "value": "\n" }
        ],
        "position": {
          "start": { "line": 34, "column": 1, "offset": 1464 },
          "end": { "line": 38, "column": 169, "offset": 2045 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "h4",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "2D blocks example",
            "position": {
              "start": { "line": 40, "column": 6, "offset": 2052 },
              "end": { "line": 40, "column": 23, "offset": 2069 }
            }
          }
        ],
        "position": {
          "start": { "line": 40, "column": 1, "offset": 2047 },
          "end": { "line": 40, "column": 23, "offset": 2069 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "For two-dimensional data, if-statements are also used to handle the boundary conditions for threads that operate at the edge of the data. ",
            "position": {
              "start": { "line": 41, "column": 1, "offset": 2070 },
              "end": { "line": 41, "column": 139, "offset": 2208 }
            }
          }
        ],
        "position": {
          "start": { "line": 41, "column": 1, "offset": 2070 },
          "end": { "line": 41, "column": 139, "offset": 2208 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "h5",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "settings",
            "position": {
              "start": { "line": 43, "column": 7, "offset": 2216 },
              "end": { "line": 43, "column": 15, "offset": 2224 }
            }
          }
        ],
        "position": {
          "start": { "line": 43, "column": 1, "offset": 2210 },
          "end": { "line": 43, "column": 15, "offset": 2224 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "ul",
        "properties": {},
        "children": [
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "given a block size of 16 x 16",
                "position": {
                  "start": { "line": 45, "column": 3, "offset": 2228 },
                  "end": { "line": 45, "column": 32, "offset": 2257 }
                }
              }
            ],
            "position": {
              "start": { "line": 45, "column": 1, "offset": 2226 },
              "end": { "line": 45, "column": 32, "offset": 2257 }
            }
          },
          { "type": "text", "value": "\n" }
        ],
        "position": {
          "start": { "line": 45, "column": 1, "offset": 2226 },
          "end": { "line": 45, "column": 32, "offset": 2257 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "raw",
            "value": "<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6780a2f7c16d844af42ab0b464810e2c/7fc32/grid.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.69999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAC/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABYZwjVR//xAAYEAEAAwEAAAAAAAAAAAAAAAABAAMQBP/aAAgBAQABBQK5XCdO/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQEABj8CNMpf/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAERMRAhgf/aAAgBAQABPyGXYlC3ZAlo/9oADAMBAAIAAwAAABBQz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB4QAAMAAQQDAAAAAAAAAAAAAAABEYEhMUFRcbHw/9oACAEBAAE/EEtsqko9djnPR8QS+P2RNyKQ/9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"grid\"\n        title=\"\"\n        src=\"/static/6780a2f7c16d844af42ab0b464810e2c/1697e/grid.jpg\"\n        srcset=\"/static/6780a2f7c16d844af42ab0b464810e2c/a2cfd/grid.jpg 148w,\n/static/6780a2f7c16d844af42ab0b464810e2c/3348f/grid.jpg 295w,\n/static/6780a2f7c16d844af42ab0b464810e2c/1697e/grid.jpg 590w,\n/static/6780a2f7c16d844af42ab0b464810e2c/6a00a/grid.jpg 885w,\n/static/6780a2f7c16d844af42ab0b464810e2c/7fc32/grid.jpg 1000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a>",
            "position": {
              "start": { "line": 47, "column": 1, "offset": 2259 },
              "end": { "line": 47, "column": 20, "offset": 2278 }
            }
          }
        ],
        "position": {
          "start": { "line": 47, "column": 1, "offset": 2259 },
          "end": { "line": 47, "column": 20, "offset": 2278 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "ul",
        "properties": {},
        "children": [
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "data to be processed is of the size 76×62",
                "position": {
                  "start": { "line": 49, "column": 3, "offset": 2282 },
                  "end": { "line": 49, "column": 44, "offset": 2323 }
                }
              }
            ],
            "position": {
              "start": { "line": 49, "column": 1, "offset": 2280 },
              "end": { "line": 49, "column": 44, "offset": 2323 }
            }
          },
          { "type": "text", "value": "\n" }
        ],
        "position": {
          "start": { "line": 49, "column": 1, "offset": 2280 },
          "end": { "line": 49, "column": 44, "offset": 2323 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "h5",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "map data to blocks then warps",
            "position": {
              "start": { "line": 51, "column": 7, "offset": 2331 },
              "end": { "line": 51, "column": 36, "offset": 2360 }
            }
          }
        ],
        "position": {
          "start": { "line": 51, "column": 1, "offset": 2325 },
          "end": { "line": 51, "column": 36, "offset": 2360 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "ul",
        "properties": {},
        "children": [
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              { "type": "text", "value": "\n" },
              {
                "type": "element",
                "tagName": "p",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "20 = 5*4 ",
                    "position": {
                      "start": { "line": 53, "column": 3, "offset": 2364 },
                      "end": { "line": 53, "column": 12, "offset": 2373 }
                    }
                  },
                  {
                    "type": "element",
                    "tagName": "strong",
                    "properties": {},
                    "children": [
                      {
                        "type": "text",
                        "value": "blocks",
                        "position": {
                          "start": { "line": 53, "column": 14, "offset": 2375 },
                          "end": { "line": 53, "column": 20, "offset": 2381 }
                        }
                      }
                    ],
                    "position": {
                      "start": { "line": 53, "column": 12, "offset": 2373 },
                      "end": { "line": 53, "column": 22, "offset": 2383 }
                    }
                  },
                  {
                    "type": "text",
                    "value": " will be used",
                    "position": {
                      "start": { "line": 53, "column": 22, "offset": 2383 },
                      "end": { "line": 53, "column": 35, "offset": 2396 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 53, "column": 3, "offset": 2364 },
                  "end": { "line": 53, "column": 35, "offset": 2396 }
                }
              },
              { "type": "text", "value": "\n" }
            ],
            "position": {
              "start": { "line": 53, "column": 1, "offset": 2362 },
              "end": { "line": 54, "column": 1, "offset": 2397 }
            }
          },
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              { "type": "text", "value": "\n" },
              {
                "type": "element",
                "tagName": "p",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "each block will be partitioned into 8 ",
                    "position": {
                      "start": { "line": 55, "column": 3, "offset": 2400 },
                      "end": { "line": 55, "column": 41, "offset": 2438 }
                    }
                  },
                  {
                    "type": "element",
                    "tagName": "strong",
                    "properties": {},
                    "children": [
                      {
                        "type": "text",
                        "value": "warps",
                        "position": {
                          "start": { "line": 55, "column": 43, "offset": 2440 },
                          "end": { "line": 55, "column": 48, "offset": 2445 }
                        }
                      }
                    ],
                    "position": {
                      "start": { "line": 55, "column": 41, "offset": 2438 },
                      "end": { "line": 55, "column": 50, "offset": 2447 }
                    }
                  },
                  {
                    "type": "text",
                    "value": " (16 * 16 / 32), each one consists of two rows of a block",
                    "position": {
                      "start": { "line": 55, "column": 50, "offset": 2447 },
                      "end": { "line": 55, "column": 107, "offset": 2504 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 55, "column": 3, "offset": 2400 },
                  "end": { "line": 55, "column": 107, "offset": 2504 }
                }
              },
              { "type": "text", "value": "\n" }
            ],
            "position": {
              "start": { "line": 55, "column": 1, "offset": 2398 },
              "end": { "line": 56, "column": 1, "offset": 2505 }
            }
          },
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              { "type": "text", "value": "\n" },
              {
                "type": "element",
                "tagName": "p",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "there are a total 160 warps (8 warps per block) involved",
                    "position": {
                      "start": { "line": 57, "column": 3, "offset": 2508 },
                      "end": { "line": 57, "column": 59, "offset": 2564 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 57, "column": 3, "offset": 2508 },
                  "end": { "line": 57, "column": 59, "offset": 2564 }
                }
              },
              { "type": "text", "value": "\n" }
            ],
            "position": {
              "start": { "line": 57, "column": 1, "offset": 2506 },
              "end": { "line": 57, "column": 59, "offset": 2564 }
            }
          },
          { "type": "text", "value": "\n" }
        ],
        "position": {
          "start": { "line": 53, "column": 1, "offset": 2362 },
          "end": { "line": 57, "column": 59, "offset": 2564 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "h5",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "measure performance impact of control divergence",
            "position": {
              "start": { "line": 59, "column": 7, "offset": 2572 },
              "end": { "line": 59, "column": 55, "offset": 2620 }
            }
          }
        ],
        "position": {
          "start": { "line": 59, "column": 1, "offset": 2566 },
          "end": { "line": 59, "column": 55, "offset": 2620 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "raw",
            "value": "<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c846dac029978fa69362f9ab79a7127d/7fc32/performance.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 62%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFqbcSNnUP/xAAbEAEAAgIDAAAAAAAAAAAAAAABAAQDEhEhMv/aAAgBAQABBQKyukx+bByaEDr/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAACAwAAAAAAAAAAAAAAAAAQIQECEf/aAAgBAQAGPwKupmD/AP/EABsQAAMAAgMAAAAAAAAAAAAAAAABESExUWHw/9oACAEBAAE/IXYaN9TSJt5OkUlwf//aAAwDAQACAAMAAAAQoA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhMZFBsf/aAAgBAQABPxB9zgAaxUtW3UW2PnwgUbpJyNOvCHADE//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"performance\"\n        title=\"\"\n        src=\"/static/c846dac029978fa69362f9ab79a7127d/1697e/performance.jpg\"\n        srcset=\"/static/c846dac029978fa69362f9ab79a7127d/a2cfd/performance.jpg 148w,\n/static/c846dac029978fa69362f9ab79a7127d/3348f/performance.jpg 295w,\n/static/c846dac029978fa69362f9ab79a7127d/1697e/performance.jpg 590w,\n/static/c846dac029978fa69362f9ab79a7127d/6a00a/performance.jpg 885w,\n/static/c846dac029978fa69362f9ab79a7127d/7fc32/performance.jpg 1000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a>",
            "position": {
              "start": { "line": 61, "column": 1, "offset": 2622 },
              "end": { "line": 61, "column": 34, "offset": 2655 }
            }
          }
        ],
        "position": {
          "start": { "line": 61, "column": 1, "offset": 2622 },
          "end": { "line": 61, "column": 34, "offset": 2655 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "ul",
        "properties": {},
        "children": [
          { "type": "text", "value": "\n" },
          {
            "type": "element",
            "tagName": "li",
            "properties": {},
            "children": [
              {
                "type": "text",
                "value": "None of the warps in the 12 blocks (12",
                "position": {
                  "start": { "line": 63, "column": 3, "offset": 2659 },
                  "end": { "line": 63, "column": 41, "offset": 2697 }
                }
              },
              {
                "type": "element",
                "tagName": "em",
                "properties": {},
                "children": [
                  {
                    "type": "text",
                    "value": "8 =96 warps ) in region 1 will have control divergence. There are 12",
                    "position": {
                      "start": { "line": 63, "column": 42, "offset": 2698 },
                      "end": { "line": 63, "column": 110, "offset": 2766 }
                    }
                  }
                ],
                "position": {
                  "start": { "line": 63, "column": 41, "offset": 2697 },
                  "end": { "line": 63, "column": 111, "offset": 2767 }
                }
              },
              {
                "type": "text",
                "value": "8 =96 warps in region 1. ",
                "position": {
                  "start": { "line": 63, "column": 111, "offset": 2767 },
                  "end": { "line": 63, "column": 136, "offset": 2792 }
                }
              }
            ],
            "position": {
              "start": { "line": 63, "column": 1, "offset": 2657 },
              "end": { "line": 63, "column": 136, "offset": 2792 }
            }
          },
          { "type": "text", "value": "\n" }
        ],
        "position": {
          "start": { "line": 63, "column": 1, "offset": 2657 },
          "end": { "line": 63, "column": 136, "offset": 2792 }
        }
      },
      { "type": "text", "value": "\n" },
      {
        "type": "element",
        "tagName": "p",
        "properties": {},
        "children": [
          {
            "type": "text",
            "value": "For region 2, all the 24 warps will have control divergence. For region 3, note that all the bottom warps are mapped to data that are completely outside the picture. As a result, none of them will pass the if-condition. The reader should verify that these warps would have had control divergence if the picture had an odd number of pixels in the vertical dimension. Since they all follow the same control flow path, none of these 32 warps will have control divergence! In region 4, the first seven warps will have control divergence but the last warp will not. All in all, 31 out of the 160 warps will have control divergence.",
            "position": {
              "start": { "line": 65, "column": 1, "offset": 2794 },
              "end": { "line": 65, "column": 627, "offset": 3420 }
            }
          }
        ],
        "position": {
          "start": { "line": 65, "column": 1, "offset": 2794 },
          "end": { "line": 65, "column": 627, "offset": 3420 }
        }
      }
    ],
    "position": {
      "start": { "line": 1, "column": 1, "offset": 0 },
      "end": { "line": 65, "column": 627, "offset": 3420 }
    }
  }
}
